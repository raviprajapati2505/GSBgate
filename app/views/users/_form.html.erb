<%= form_for @user, html: {class: 'form-horizontal'} do |f| %>
    <div class="form-group <%= 'has-error' if @user.errors[:email].any? %>">
        <%= f.label :email, {class: 'control-label col-sm-2'} %>
        <div class="col-sm-10">
            <%= f.text_field :email, {class: 'form-control'} %>
            <% @user.errors[:email].each do |error| %>
                <li class="help-block"><%= error %></li>
            <% end %>
        </div>
    </div>
    <div class="form-group <%= 'has-error' if @user.errors[:role].any? %>">
        <%= f.label :role, {class: 'control-label col-sm-2'} %>
        <div class="col-sm-10">
            <%= f.select :role, User.roles.keys.to_a.map { |k| [k, k]}, {}, class: 'form-control' %>
            <% @user.errors[:role].each do |error| %>
                <li class="help-block"><%= error %></li>
            <% end %>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-4 col-sm-offset-2">
            <%= f.submit class: 'btn btn-primary' %>
            <%= link_to 'Back', users_path, class: 'btn btn-white' %>
        </div>
    </div>
<% end %>